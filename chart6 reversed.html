<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/data.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<style media="screen">
  /*style="height: 400px; margin: 0 auto"*/

  #chartUno {
    min-width: 310px;
    width: 100%;
    /*height must be a minimum of 860px*/
    /*min-height: 860px;*/
    /*height: 1000px;*/
    margin: 0 auto;
  }

  .highcharts-background {
    fill: transparent;
  }


  .highcharts-title {
    font-family: 'Lato', sans-serif !important;
  }

  .highcharts-legend {
    font-family: 'Lato', sans-serif !important;
    /*no legend at request of research team*/
    /*display: none;*/
  }

  .highcharts-axis-labels {
    font-family: 'Lato', sans-serif !important;
  }

  .highcharts-xaxis-labels {
    font-family: 'Lato', sans-serif !important;
  }

  @media (max-width: 700px) {
    #chartUno {
      /*height: 1000px;*/
    }
  }
</style>


<!-- 860px min height before font gets messed up -->
<div id="chartUno"></div>

<script type="text/javascript">
var x = [
  9.1, 11.7, 13.5, 13.5, 13.8, 14.0, 14.0, 14.1, 15.0, 15.1, 15.1, 15.2, 15.2, 15.5, 15.6, 15.8, 15.9, 16.0, 16.0, 16.2, 16.5, 16.8, 17.1, 17.1, 17.3, 17.4, 17.5, 17.5, 17.7, 17.7, 18.1, 18.1, 18.7, 18.9, 19.0, 19.1, 19.1, 19.5, 19.7, 20.1, 20.6,
  20.7, 21.4, 21.6, 21.9, 21.9, 22.2, 22.3, 22.5, 24.9, 25.7, 25.9
];
  var y = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52];

  var state = Cookies.get('state');
  // console.log("state achieved for chart 2");
  // bar on graph changes to green based on state selection
  if (state == "nation") {
    var slot2 = 0;
  } else if (state == "UT") {
    var slot2 = 1;
  } else if (state == "NM") {
    var slot2 = 2;
  } else if (state == "CO") {
    var slot2 = 3;
  } else if (state == "CA") {
    var slot2 = 4;
  } else if (state == "HI") {
    var slot2 = 5;
  } else if (state == "WY") {
    var slot2 = 6;
  } else if (state == "ID") {
    var slot2 = 7;
  } else if (state == "AZ") {
    var slot2 = 8;
  } else if (state == "MN") {
    var slot2 = 9;
  } else if (state == "TX") {
    var slot2 = 10;
  } else if (state == "MD") {
    var slot2 = 11;
  } else if (state == "ND") {
    var slot2 = 12;
  } else if (state == "SD") {
    var slot2 = 13;
  } else if (state == "MT") {
    var slot2 = 14;
  } else if (state == "NE") {
    var slot2 = 15;
  } else if (state == "NJ") {
    var slot2 = 16;
  } else if (state == "DC") {
    var slot2 = 17;
  } else if (state == "OR") {
    var slot2 = 18;
  } else if (state == "WA") {
    var slot2 = 19;
  } else if (state == "WI") {
    var slot2 = 20;
  } else if (state == "NY") {
    var slot2 = 21;
  } else if (state == "KS") {
    var slot2 = 22;
  } else if (state == "VA") {
    var slot2 = 23;
  } else if (state == "NV") {
    var slot2 = 24;
  } else if (state == "AK") {
    var slot2 = 25;
  } else if (state == "FL") {
    var slot2 = 26;
  } else if (state == "CT") {
    var slot2 = 27;
  } else if (state == "IA") {
    var slot2 = 28;
  } else if (state == "MA") {
    var slot2 = 29;
  } else if (state == "VT") {
    var slot2 = 30;
  } else if (state == "PA") {
    var slot2 = 31;
  } else if (state == "GA") {
    var slot2 = 32;
  } else if (state == "MI") {
    var slot2 = 33;
  } else if (state == "NH") {
    var slot2 = 34;
  } else if (state == "IL") {
    var slot2 = 35;
  } else if (state == "SC") {
    var slot2 = 36;
  } else if (state == "RI") {
    var slot2 = 37;
  } else if (state == "NC") {
    var slot2 = 38;
  } else if (state == "OH") {
    var slot2 = 39;
  } else if (state == "OK") {
    var slot2 = 40;
  } else if (state == "AL") {
    var slot2 = 41;
  } else if (state == "DE") {
    var slot2 = 42;
  } else if (state == "LA") {
    var slot2 = 43;
  } else if (state == "IN") {
    var slot2 = 44;
  } else if (state == "ME") {
    var slot2 = 45;
  } else if (state == "MO") {
    var slot2 = 46;
  } else if (state == "MS") {
    var slot2 = 47;
  } else if (state == "TN") {
    var slot2 = 48;
  } else if (state == "AR") {
    var slot2 = 49;
  } else if (state == "WV") {
    var slot2 = 50;
  } else if (state == "KY") {
    var slot2 = 51;
  } else {
    var slot2 = 20;
  }


  var chart1 = function() {
    Highcharts.setOptions({
      colors: ["#7fba00", "#434348", "#90ed7d", "#f7a35c", "#8085e9", "#f15c80", "#e4d354", "#2b908f", "#f45b5b", "#91e8e1"]
    })


    Highcharts.chart('chartUno', {
      chart: {
        events: {
          load: function() {
            // console.log("test log");
            // console.log(this.series);
            // console.log(this.series[slot2]);
            var stateBox = this.series[slot2].points[0];
            // console.log(stateBox);
            this.tooltip.refresh(stateBox);
          }
        },
        height: 430
      },
      xAxis: {
        title: {
          enabled: true,
          text: 'Adult Smoking (%)'
        },
        min: 8,
        max: 28
      },
      yAxis: {
        title: {
          text: 'Age-Adjusted Lung Cancer Incidence Rate per 100,000'
        },
        min: 27,
        max: 100
      },
      legend: {
        enabled: false
      },
      tooltip: {
        formatter: function(){
          return '<b>'+ this.series.name +'</b><br/><b>Adult Smoking</b>: ' + Highcharts.numberFormat(this.x, 1) + '<br><b>Lung Cancer Incidence</b>: ' + Highcharts.numberFormat(this.y, 1);
        }
      },
      credits: {
        enabled: false
      },
      title: {
        text: 'Relationship between Adult Smoking and Lung Cancer Incidence Rate by State'
      },
      series: [{
          type: 'line',
          name: 'Regression Line',
          data: [
            [9.1, 42.59],
            [25.9, 83.385]
          ],
          marker: {
            enabled: false
          },
          states: {
            hover: {
              lineWidth: 0
            }
          },
          enableMouseTracking: false
        },
        {
          type: 'scatter',
          name: 'Utah',
          data: [
            [9.1, 29.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'New Mexico',
          data: [
            [17.5, 42.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Colorado',
          data: [
            [15.6,45.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'California',
          data: [
            [11.7, 46.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Hawaii',
          data: [
            [14.1, 47.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Wyoming',
          data: [
            [19.1, 47.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Idaho',
          data: [
            [13.8, 51.4]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Arizona',
          data: [
            [14, 52.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Minnesota',
          data: [
            [16.2, 56.4]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Texas',
          data: [
            [15.2, 57.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Maryland',
          data: [
            [15.1, 57.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'North Dakota',
          data: [
            [18.7, 57.4]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'South Dakota',
          data: [
            [20.1, 58.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Montana',
          data: [
            [18.9, 58.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Nebraska',
          data: [
            [17.1, 59.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'New Jersey',
          data: [
            [13.5, 59.4]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'District of Columbia',
          data: [
            [16, 59.6]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Oregon',
          data: [
            [17.1,  59.6]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Washington',
          data: [
            [15, 60.4]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Wisconsin',
          data: [
            [17.3, 61.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'New York',
          data: [
            [17.7, 62.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Kansas',
          data: [
            [17.7, 62.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Virginia',
          data: [
            [16.5, 62.4]
          ],
          marker: {
            radius: 3
          }
        },

        {
          type: 'scatter',
          name: 'Nevada',
          data: [
            [17.5, 63.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Alaska',
          data: [
            [19.1, 63.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Florida',
          data: [
            [15.8, 63.3]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Connecticut',
          data: [
            [13.5, 63.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Iowa',
          data: [
            [18.1, 65.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Massachusetts',
          data: [
            [14, 66.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Vermont',
          data: [
            [16, 66.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Pennsylvania',
          data: [
            [18.1, 66.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Georgia',
          data: [
            [17.7, 67.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Michigan',
          data: [
            [20.7, 68]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'New Hampshire',
          data: [
            [18.9, 68.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Illinois',
          data: [
            [15.1, 68.3]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'South Carolina',
          data: [
            [19.7, 69.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Rhode Island',
          data: [
            [15.5, 70]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'North Carolina',
          data: [
            [19, 70.9]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Ohio',
          data: [
            [21.6, 71.1]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Oklahoma',
          data: [
            [22.2, 71.6]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Alabama',
          data: [
            [21.6, 71.7]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Delaware',
          data: [
            [17.4, 71.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Louisiana',
          data: [
            [21.9, 71.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Indiana',
          data: [
            [20.6, 74.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Maine',
          data: [
            [19.5, 74.9]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Missouri',
          data: [
            [22.5, 76.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Mississippi',
          data: [
            [22.5, 76.8]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Tennessee',
          data: [
            [21.9, 77.2]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Arkansas',
          data: [
            [24.9, 77.5]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'West Virginia',
          data: [
            [25.7, 81.6]
          ],
          marker: {
            radius: 3
          }
        },
        {
          type: 'scatter',
          name: 'Kentucky',
          data: [
            [25.9, 96.8]
          ],
          marker: {
            radius: 3
          }
        },
      ]
    })
  };

$(document).ready(function(){
  chart1();
})

</script>
